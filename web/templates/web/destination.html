{% extends "web/base.html" %}
{% load static %}
{% block content %}
<!-- Hero destination details -->
<section class="hero2">
    <div class="container">
        <h1 class="fw-bold">{{ destination.name }}</h1>
    </div>
</section>

<section id="safari" class="py-5">
    <div class="container">
        <div class="row">
            <!-- Main content -->
            <div class="col-lg-9">
                <div class="text-center mt-3">
                    <img src="{{ destination.image.url }}"
                         alt="{{ destination.name }}"
                         class="img-fluid rounded shadow d-block mx-auto">
                </div>
                
                <p class="mt-3">{{ destination.description }}</p>
                <p><strong>Best Time to Visit:</strong> {{ destination.best_time_to_visit }}</p>
                <p><strong>Wildlife:</strong> {{ destination.wildlife }}</p>
            </div>

            <!-- Safari Packages in this Destination -->
            <div class="col-lg-3">
                <h4 class="mb-4">Safari Packages</h4>
                <div class="list-group" style="max-height: 800px; overflow-y: auto;">
                    {% for package in destination.safari_packages.all %}
                        <a href="{% url 'safari' package.slug %}" 
                           class="list-group-item list-group-item-action mb-3">
                            <img src="{{ package.featured_image.url }}" 
                                 class="img-fluid rounded mb-2" 
                                 style="width:100%; height:140px; object-fit:cover;">
                            {{ package.package_name }}
                        </a>
                    {% empty %}
                        <p>No safari packages available for this destination.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
